#!/bin/sh

# 🪝 Pre-commit Hook for Mission Statement Analyzer
# Runs automatic checks before every commit

echo "🔍 Running pre-commit checks for Mission Statement Analyzer..."

# 1. Format staged files with Prettier
echo "💅 Formatting code with Prettier..."
npx lint-staged

# 2. Run Next.js linting
echo "📝 Running Next.js lint checks..."
npm run lint || { echo "❌ Linting errors found. Please fix before committing."; exit 1; }

# 3. Type checking
echo "🔤 Checking TypeScript types..."
npx tsc --noEmit || { echo "❌ TypeScript errors found. Please fix before committing."; exit 1; }

echo "✅ All pre-commit checks passed! Proceeding with commit..."
