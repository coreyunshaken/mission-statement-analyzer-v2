#!/bin/sh

# ğŸª Pre-commit Hook for Mission Statement Analyzer
# Runs automatic checks before every commit

echo "ğŸ” Running pre-commit checks for Mission Statement Analyzer..."

# 1. Format staged files with Prettier
echo "ğŸ’… Formatting code with Prettier..."
npx lint-staged

# 2. Run Next.js linting
echo "ğŸ“ Running Next.js lint checks..."
npm run lint || { echo "âŒ Linting errors found. Please fix before committing."; exit 1; }

# 3. Type checking
echo "ğŸ”¤ Checking TypeScript types..."
npx tsc --noEmit || { echo "âŒ TypeScript errors found. Please fix before committing."; exit 1; }

echo "âœ… All pre-commit checks passed! Proceeding with commit..."
